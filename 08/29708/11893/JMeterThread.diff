73a74
>     private ThreadSync threadSync = null; // For JMeterThread synchronization
75d75
<     
103a104,113
>     public JMeterThread(
>         HashTree test,
>         JMeterThreadMonitor monitor,
>         ListenerNotifier note,
>         ThreadSync threadSync)
>     {
>         this(test, monitor, note);
>         this.threadSync = threadSync;
>     }
> 
223c233,247
< 
---
>             controller.initialize();
>             controller.addIterationListener(new IterationListener());
>             
>             if(threadSync != null){
>                 try
>             	{
>                     threadSync.waitForAll();
>             	}
>                 catch(InterruptedException e)
>                 {
>                     log.error("JMeterThread fail to initialize!",e);
>                     return;
>                 }
>             }
>             
233,234c257
<             controller.initialize();
<             controller.addIterationListener(new IterationListener());
---
>             
