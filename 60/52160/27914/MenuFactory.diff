# This patch file was generated by NetBeans IDE
# This patch can be applied using context Tools: Apply Diff Patch action on respective folder.
# It uses platform neutral UTF-8 encoding.
# Above lines and this line are ignored by the patching process.
--- C:\JMeter\old\src\org\apache\jmeter\gui\util\MenuFactory.java
+++ C:\JMeter\new\src\org\apache\jmeter\gui\util\MenuFactory.java
@@ -19,6 +19,8 @@
 package org.apache.jmeter.gui.util;
 
 import java.awt.Component;
+import java.beans.IntrospectionException;
+import java.beans.Introspector;
 import java.io.IOException;
 import java.io.Serializable;
 import java.util.Collection;
@@ -436,11 +438,19 @@
                     continue;
                 }
 
+                //Handle BeanDescriptor hidden property
+                boolean isHiddenBean = false;
+
                 JMeterGUIComponent item;
                 try {
                     Class<?> c = Class.forName(name);
                     if (TestBean.class.isAssignableFrom(c)) {
                         item = new TestBeanGUI(c);
+                        try {
+                            isHiddenBean = Introspector.getBeanInfo(c).getBeanDescriptor().isHidden();
+                        } catch (IntrospectionException e) {
+                            log.warn("Cannot get bean info from class " + name + ". " + e);
+                        }
                     } else {
                         item = (JMeterGUIComponent) c.newInstance();
                     }
@@ -457,7 +467,7 @@
                     }
                     continue;
                 }
-                if (elementsToSkip.contains(item.getStaticLabel())) {
+                if (elementsToSkip.contains(item.getStaticLabel()) || isHiddenBean) {
                     log.info("Skipping " + name);
                     continue;
                 } else {
