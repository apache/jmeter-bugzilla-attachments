From 28aedff94089a0645b7a08b7de621deb1621c114 Mon Sep 17 00:00:00 2001
From: Felix Schumacher <felix.schumacher@internetallee.de>
Date: Wed, 4 May 2016 21:29:18 +0200
Subject: [PATCH] Display error message in Help pane.

---
 src/core/org/apache/jmeter/gui/action/Help.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

diff --git a/src/core/org/apache/jmeter/gui/action/Help.java b/src/core/org/apache/jmeter/gui/action/Help.java
index b4bb3bc..706ae4b 100644
--- a/src/core/org/apache/jmeter/gui/action/Help.java
+++ b/src/core/org/apache/jmeter/gui/action/Help.java
@@ -99,7 +99,17 @@ public class Help implements Command {
             helpDoc.setPage(url.toString()); // N.B. this only reloads if necessary (ignores the reference)
         } catch (IOException ioe) {
             log.error(ioe.toString());
-            JMeterUtils.reportErrorToUser("Problem loading a help page - see log for details");
+            helpDoc.setText("<html><head><title>Problem loading help page</title>"
+                    + "<style><!--"
+                    + ".note { background-color: #ffeeee; border: 1px solid brown; }"
+                    + "div { padding: 10; margin: 10; }"
+                    + "--></style></head>"
+                    + "<body><div class='note'>"
+                    + "<h1>Problem loading help page</h1>"
+                    + "<div>Can't load url: &quot;<em>"
+                    + url.toString() + "</em>&quot;</div>"
+                    + "<div>See log for more info</div>"
+                    + "</body>");
         }
     }
 
-- 
2.7.4

