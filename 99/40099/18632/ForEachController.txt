Index: D:/Development/Eclipse/Workspace/jmeter/src/components/org/apache/jmeter/control/ForeachController.java
===================================================================
--- D:/Development/Eclipse/Workspace/jmeter/src/components/org/apache/jmeter/control/ForeachController.java	(revision 424313)
+++ D:/Development/Eclipse/Workspace/jmeter/src/components/org/apache/jmeter/control/ForeachController.java	(working copy)
@@ -95,9 +95,9 @@
 	public boolean isDone() {
 		JMeterContext context = getThreadContext();
 		String inputVariable = getInputVal() + getSeparator() + (loopCount + 1);
-		if (context.getVariables().get(inputVariable) != null) {
-			context.getVariables().put(getReturnVal(), context.getVariables().get(inputVariable));
-			log.debug("ForEach resultstring isDone=" + context.getVariables().get(getReturnVal()));
+		if (context.getVariables().getObject(inputVariable) != null) {
+			context.getVariables().putObject(getReturnVal(), context.getVariables().getObject(inputVariable));
+			log.debug("ForEach resultstring isDone=" + context.getVariables().getObject(getReturnVal()));
 			return false;
 		}
 		return super.isDone();
@@ -106,7 +106,7 @@
 	private boolean endOfArguments() {
 		JMeterContext context = getThreadContext();
 		String inputVariable = getInputVal() + getSeparator() + (loopCount + 1);
-		if (context.getVariables().get(inputVariable) != null) {
+		if (context.getVariables().getObject(inputVariable) != null) {
 			log.debug("ForEach resultstring eofArgs= false");
 			return false;
 		}
@@ -131,7 +131,7 @@
 	private boolean emptyList() {
 		JMeterContext context = getThreadContext();
 		String inputVariable = getInputVal() + getSeparator() + "1";
-		if (context.getVariables().get(inputVariable) != null) {
+		if (context.getVariables().getObject(inputVariable) != null) {
 			return false;
 		}
 		log.debug("No entries found - null first entry: " + inputVariable);
