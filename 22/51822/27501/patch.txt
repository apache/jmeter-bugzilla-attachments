Index: src/core/org/apache/jmeter/gui/action/EditCommand.java
===================================================================
--- src/core/org/apache/jmeter/gui/action/EditCommand.java	(revision 1170866)
+++ src/core/org/apache/jmeter/gui/action/EditCommand.java	(working copy)
@@ -23,6 +23,7 @@
 import java.util.Set;
 
 import org.apache.jmeter.gui.GuiPackage;
+import org.apache.jmeter.gui.JMeterGUIComponent;
 import org.apache.jmeter.gui.NamePanel;
 
 /**
@@ -40,12 +41,13 @@
 
     public void doAction(ActionEvent e) {
         GuiPackage guiPackage = GuiPackage.getInstance();
-        guiPackage.getMainFrame().setMainPanel((javax.swing.JComponent) guiPackage.getCurrentGui());
+        JMeterGUIComponent currentGui = guiPackage.getCurrentGui();
+        guiPackage.getMainFrame().setMainPanel((javax.swing.JComponent) currentGui);
         guiPackage.getMainFrame().setEditMenu(guiPackage.getTreeListener().getCurrentNode().createPopupMenu());
         // TODO: I believe the following code (to the end of the method) is
         // obsolete,
         // since NamePanel no longer seems to be the GUI for any component:
-        if (!(guiPackage.getCurrentGui() instanceof NamePanel)) {
+        if (!(currentGui instanceof NamePanel)) {
             guiPackage.getMainFrame().setFileLoadEnabled(true);
             guiPackage.getMainFrame().setFileSaveEnabled(true);
         } else {
